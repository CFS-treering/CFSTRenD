% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mapping.R
\name{plot_mapping3}
\alias{plot_mapping3}
\title{Generate mapped spatial-temporal plots}
\usage{
plot_mapping3(
  data,
  year.span = c(1801, 2017),
  extent.lim = NULL,
  grid.step = 0.1,
  animation_fps = 1,
  by.spc = FALSE,
  parms.out = c("", "csv", "tif", "png", "gif"),
  dir.out = NULL,
  data.crs = "+proj=longlat +datum=WGS84 +no_defs",
  ...
)
}
\arguments{
\item{data}{A data.table object of class \code{cfs_mapping}, typically generated by \code{\link{read_series}}.}

\item{year.span}{A numeric vector of length two specifying the start and end years for analysis. Default is \code{c(1801, 2017)}.}

\item{extent.lim}{Optional. A numeric vector specifying map extent in the form \code{c(xmin, xmax, ymin, ymax)}. If \code{NULL}, extent is computed from the data.}

\item{grid.step}{A numeric value specifying the resolution (in degrees) of the interpolation grid. Default is \code{0.1}.}

\item{animation_fps}{Frames per second for the animated GIF output. Default is \code{1.0}.}

\item{by.spc}{Logical. If \code{TRUE}, runs separately for each species. Default is \code{FALSE}.}

\item{parms.out}{Character vector specifying the types of outputs to generate. Valid values are:
\code{"csv"}, \code{"tif"}, \code{"png"}, and \code{"gif"}.}

\item{dir.out}{A character string specifying the directory where outputs will be saved. Required if \code{parms.out} is not empty.}

\item{data.crs}{Character string specifying the CRS (coordinate reference system) for spatial outputs. Default is WGS84.}

\item{...}{Additional parameters passed to the function.}
}
\value{
This function does not return a value but saves outputs to disk depending on the options selected in \code{parms.out}.
  Output includes:
  \itemize{
    \item PNG maps of interpolated tree growth
    \item Animated GIFs showing change over time
    \item Raster GeoTIFFs of interpolated values
    \item CSV files of gridded predicted values
  }
}
\description{
This function interpolates and visualizes tree ring data (e.g., BAI growth change) across space and time
using inverse distance weighting (IDW). Outputs can include maps in PNG and GIF formats, interpolated raster
files in GeoTIFF format, and gridded values in CSV format.
}
\details{
The function performs spatial interpolation using IDW and masks outputs to Canada and boreal zones using shapefiles.
The elevation layer and mask files are internal to the \code{CFSTRenD} package and used for contextual mapping.

PNG and GIF outputs are generated using \code{magick}, raster outputs via \code{terra}, and interpolation via \code{gstat}.
}
\section{File Outputs}{

When parms.out is specified, the following directory structure is created:
\itemize{
  \item \strong{png/}: Individual PNG files for each species and year
  \item \strong{gif/}: Animated GIF files for each species
  \item \strong{csv/}: CSV files with annual data for each species
  \item \strong{tif/}: GeoTIFF files for each species and year
}
}

\examples{
\dontrun{
# Basic usage - return animated GIFs
gif_results <- plot_mapping3(cfs_data)

# Generate all output formats
plot_mapping3(cfs_data,
              animation_fps = 2.0,
              parms.out = c("png", "gif", "csv"),
              dir.out = "output_folder")


# Custom animation speed and plot parameters
plot_mapping3(cfs_data,
              animation_fps = 0.5,
              parms.out = "gif",
              dir.out = "slow_gifs")
}

}
\seealso{
\code{\link{CFS_mapping}} for preparing input data
}
