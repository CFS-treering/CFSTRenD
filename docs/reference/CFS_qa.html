<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>tree-ring data measurement assessment — CFS_qa • CFSTRenD</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="tree-ring data measurement assessment — CFS_qa"><meta property="og:description" content="Assess tree-ring measurement accuracy using a treated series based on the differences between two consecutive tree-ring measurements."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CFSTRenD</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/vgn0_Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/vgn1_data_processing.html">Data Processing</a>
    </li>
    <li>
      <a href="../articles/vgn2_data_quality.html">Data Quality</a>
    </li>
    <li>
      <a href="../articles/vgn3_models.html">Additive Models</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>tree-ring data measurement assessment</h1>

    <div class="hidden name"><code>CFS_qa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Assess tree-ring measurement accuracy using a treated series based on the differences between two consecutive tree-ring measurements.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">CFS_qa</span><span class="op">(</span></span>
<span>  <span class="va">dt.input</span>,</span>
<span>  qa.label_data <span class="op">=</span> <span class="st">""</span>,</span>
<span>  qa.label_trt <span class="op">=</span> <span class="st">""</span>,</span>
<span>  qa.batch_size <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  qa.max_lag <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  qa.max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  qa.min_nseries <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  qa.blcrit <span class="op">=</span> <span class="fl">0.1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-dt-input">dt.input<a class="anchor" aria-label="anchor" href="#arg-dt-input"></a></dt>
<dd><p>tree ring data with at least 3 columns (SampleID, Year, RawRing)</p></dd>


<dt id="arg-qa-label-data">qa.label_data<a class="anchor" aria-label="anchor" href="#arg-qa-label-data"></a></dt>
<dd><p>description of dt.input</p></dd>


<dt id="arg-qa-label-trt">qa.label_trt<a class="anchor" aria-label="anchor" href="#arg-qa-label-trt"></a></dt>
<dd><p>description of treated series</p></dd>


<dt id="arg-qa-batch-size">qa.batch_size<a class="anchor" aria-label="anchor" href="#arg-qa-batch-size"></a></dt>
<dd><p>number of pairs to run in a batch, to avoid memory issues in processing large dataset</p></dd>


<dt id="arg-qa-max-lag">qa.max_lag<a class="anchor" aria-label="anchor" href="#arg-qa-max-lag"></a></dt>
<dd><p>maximum lag up to which the correlation should be calculated in CCF</p></dd>


<dt id="arg-qa-max-iter">qa.max_iter<a class="anchor" aria-label="anchor" href="#arg-qa-max-iter"></a></dt>
<dd><p>maximum number of iterations of step 2(see Details)</p></dd>


<dt id="arg-qa-min-nseries">qa.min_nseries<a class="anchor" aria-label="anchor" href="#arg-qa-min-nseries"></a></dt>
<dd><p>minimum number of series to run this function</p></dd>


<dt id="arg-qa-blcrit">qa.blcrit<a class="anchor" aria-label="anchor" href="#arg-qa-blcrit"></a></dt>
<dd><p>criteria for borderline</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of 3 elements:
1) dt.ccf:	A data table containing the CCF results for all samples, including the quality assessment code (qa_code).
2) master:	The final master chronology, including both raw master chronology, the mean of ring measurement of the series with pass,
and the treated  master chronology, calculated as the difference of two consecutive raw master chronology.
3) dt.stats:	summary statistics of radii
4) dt.plots, list of tables for generating plots
5) qa.parms: parameters used</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Assess tree-ring measurement accuracy using a treated series based on the differences between two consecutive tree-ring measurements.
The algorithm consists of two main steps:</p>
<p>Step 1. Perform pairwise CCF on the treated series of all possible combinations of the samples.
raw ring master chronology is calculated as the average of the ring measurements of samples that achieve the maximum correlation at lag 0 with at least one other sample in the cross-correlation function (CCF).
 The difference series of the raw ring master chronology is used as the initial treated master chronology for next step.</p>
<p>Step 2. Perform CCF between the treated series of each sample and the initial treated master chronology.
 Samples that do not meet the criteria will be removed from the recalculation of the treated master chronology.
 This step is repeated until all remaining samples in the master chronology meet the criteria.</p>
<p>This process results in five categories classification for all samples (pass, borderline, pm1, highpeak, fail)</p>

<p>To enhance efficiency and mitigate potential memory issues,
The function supports both parallel (multi-session) and sequential modes, and also offers a batch processing option for users.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by XiaoJing Guo, Martin Girardin, Juha Metsaranta, David Gervais, Elizabeth Campbell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

